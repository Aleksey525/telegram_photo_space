# Космический телеграм
Это набор скриптов для взаимодействия с API SpaceX и NASA. Телеграмм бот, который публикует любые фотографии в Telegram-канал.

### Как установить

1. Зарегистрировать бота в Telegram и получить его API-токен

2. Создать Telegram-канал и сделать бота его администратором.

3. Получить API-токен на сайте [api.nasa.gov](https://api.nasa.gov/)

4. Создать .env файл в корневом каталоге проекта    

5. Прописать переменные окружения:
* API_TOKEN_NASA='Ваш токен'
* BOT_TOKEN='Ваш токен'
* USER_PERIOD=''

5. Python3 должен быть уже установлен. Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:

```

pip install -r requirements.txt

```

### Примеры запуска скриптов в терминале

* Скачать картинки дня (APOD - Astronomy Picture of the Day):

  ```
  python fetch_nasa_apod_images.py 
  ```
  Скрипт создает директорию с названием `nasa_apod_images` в корневом каталоге и скачивает в неё фотографии.

* Скачать эпичные картинки (EPIC - Earth Polychromatic Imaging Camera):

  ```
  python fetch_nasa_epic_images.py
  ```
  Скрипт создает директорию с названием `images_epic_nasa` в корневом каталоге и скачивает в неё фотографии.
  
* Скачать фотографии последнего запуска SpaceX:

  ```
  python fetch_spacex_images.py 
  ```
  Скрипт создает директорию с названием `images_spacex` в корневом каталоге и скачивает в неё фотографии.
  Если фотографий последнего запуска не обнаружено, то скрипт может скачать фотографии по id конкретного запуска:

  ```
  python fetch_spacex_images.py --id 'id запуска'
  ```

* Публикация в Telegram-канал случайной фотографии из указанной директории:

  ```
  python bot_post_images.py 'имя директории'
  ```
  Публикация в Telegram-канал конкретной фотографии из указанной директории:

  ```
  python bot_post_images.py 'имя директории' --image_name 'имя файла'
  ```

  * Автоматическая публикация в Telegram-канал картинок из указанной директории:

  ```
  python bot_while_true.py 'имя директории'
  ```
  По умолчанию период публикации равен 4 часа. Значение переменной окружения `USER_PERIOD=''` позволят изменять период публикации(в часах).

### Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org).
